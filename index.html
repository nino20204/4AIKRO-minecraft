<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4AIKRO - Portal</title>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1P984G5247"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-1P984G5247');
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Tajawal:wght@500;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #00e676;
            --secondary-color: #4CAF50;
            --bg-dark: #0a0a0a;
            --bronze-color: #cd7f32;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --online-color: #00e676;
            --offline-color: #ff5252;
        }

        body {
            font-family: 'Cairo', sans-serif;
            margin: 0; padding: 0;
            background-color: var(--bg-dark); color: white;
            overflow-x: hidden; min-height: 100vh;
        }

        .bg-animation {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(45deg, #0a0a0a, #1a1a1a, #0f3d1f, #0a0a0a);
            background-size: 400% 400%; animation: gradientBG 15s ease infinite; z-index: -1;
        }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        /* Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ */
        .global-user-bar {
            position: fixed; top: 0; left: 0; width: 100%;
            background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(10px);
            padding: 15px 20px; display: flex; justify-content: space-between; align-items: center;
            z-index: 1000; border-bottom: 1px solid var(--glass-border);
            flex-wrap: wrap; gap: 10px;
        }
        .brand-logo { font-family: 'Tajawal', sans-serif; font-size: 1.5em; font-weight: 900; background: linear-gradient(to right, #fff, #00e676); -webkit-background-clip: text; -webkit-text-fill-color: transparent; white-space: nowrap; }
        
        .auth-actions { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .user-btn {
            background: var(--glass); color: white; border: 1px solid var(--glass-border);
            padding: 8px 15px; border-radius: 12px; cursor: pointer; font-family: 'Cairo', sans-serif;
            transition: 0.3s; font-size: 0.9em; display: flex; align-items: center; gap: 8px;
        }
        .user-btn:hover { background: var(--secondary-color); border-color: var(--secondary-color); }
        .user-btn.profile-btn { background: rgba(76, 175, 50, 0.2); border: 1px solid var(--secondary-color); }
        .key-badge { background: var(--bronze-color); color: white; padding: 2px 6px; border-radius: 20px; font-size: 0.85em; }

        /* ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± */
        #landing-page { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; text-align: center; padding: 100px 20px 50px 20px; }
        
        .landing-logo { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 4px solid var(--primary-color); box-shadow: 0 0 30px rgba(0, 230, 118, 0.4); margin-bottom: 20px; animation: pulseLogo 3s infinite; }
        @keyframes pulseLogo { 0% { box-shadow: 0 0 20px rgba(0, 230, 118, 0.2); } 50% { box-shadow: 0 0 40px rgba(0, 230, 118, 0.6); } 100% { box-shadow: 0 0 20px rgba(0, 230, 118, 0.2); } }

        .landing-title { font-family: 'Tajawal', sans-serif; font-size: 3em; margin-bottom: 10px; background: linear-gradient(135deg, #ffffff, #00e676); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-transform: uppercase; letter-spacing: 1px; }
        .landing-subtitle { font-size: 1.1em; color: #aaa; margin-bottom: 40px; }
        .choices-container { display: flex; gap: 30px; flex-wrap: wrap; justify-content: center; width: 100%; max-width: 800px; }
        
        .choice-card {
            width: 100%; max-width: 320px; height: auto; min-height: 380px;
            background: var(--glass); backdrop-filter: blur(15px);
            border-radius: 25px; cursor: pointer; transition: 0.5s;
            border: 2px solid var(--glass-border); position: relative; overflow: hidden;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); padding: 20px;
        }
        .choice-card:hover { transform: translateY(-10px); border-color: var(--primary-color); box-shadow: 0 0 30px rgba(0, 230, 118, 0.2); }
        .choice-card img { width: 100px; height: 100px; margin-bottom: 15px; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5)); transition: transform 0.5s; }
        .choice-card:hover img { transform: scale(1.1); }
        .choice-card h2 { font-size: 1.8em; margin: 0; letter-spacing: 1px; }
        .choice-card p { color: #ccc; margin-top: 10px; padding: 0 10px; line-height: 1.4; }
        .card-minecraft:hover { border-color: #4CAF50; box-shadow: 0 0 40px rgba(76, 175, 50, 0.3); }
        .card-roblox:hover { border-color: #E53935; box-shadow: 0 0 40px rgba(229, 57, 53, 0.3); }

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        #minecraft-page, #roblox-page { display: none; }
        .container { width: 95%; max-width: 1400px; margin: 100px auto 30px auto; background: rgba(20, 20, 20, 0.8); backdrop-filter: blur(10px); padding: 20px; border-radius: 20px; border: 1px solid var(--glass-border); position: relative; }
        .back-btn { position: absolute; top: 15px; right: 15px; background: rgba(255,255,255,0.1); font-size: 0.85em; padding: 6px 12px; }

        /* Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.95); backdrop-filter: blur(8px); overflow-y: auto; }
        .modal-content { background: #1e1e1e; margin: 5% auto; padding: 30px 20px; border-radius: 20px; width: 90%; max-width: 450px; border: 1px solid #333; text-align: center; box-shadow: 0 0 50px rgba(0,0,0,0.5); position: relative; }
        .modal-content h2 { margin-top: 0; color: var(--primary-color); margin-bottom: 15px; font-size: 1.5em; }
        .modal-content input { width: 90%; padding: 12px; margin: 8px 0; border-radius: 8px; border: none; background: #2a2a2a; color: white; font-family: 'Cairo', sans-serif; text-align: center; font-size: 1em; box-sizing: border-box; }
        .close-btn { position: absolute; top: 10px; left: 15px; font-size: 25px; cursor: pointer; color: #555; transition: 0.3s; }
        .modal-hint { font-size: 0.75em; color: #666; margin-top: 5px; padding: 0 10px; }

        /* Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† */
        .rules-modal-content { max-width: 600px; max-height: 80vh; overflow-y: auto; text-align: right; }
        .rule-card { background: rgba(255, 255, 255, 0.05); border-right: 4px solid var(--primary-color); padding: 12px; margin-bottom: 12px; border-radius: 8px; }

        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .balance-display { background: rgba(0,0,0,0.3); padding: 8px; border-radius: 10px; margin-bottom: 10px; border: 1px solid rgba(205, 127, 50, 0.3); display: flex; justify-content: center; align-items: center; gap: 8px; font-size: 0.9em; }
        .balance-count { font-size: 1.5em; font-weight: 900; color: var(--bronze-color); text-shadow: 0 0 10px rgba(205, 127, 50, 0.5); }
        .section { margin-bottom: 30px; }
        .section h2 { border-bottom: 2px solid var(--primary-color); padding-bottom: 8px; color: #fff; font-size: 1.5em; display: inline-block; margin-bottom: 15px; }
        .card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 15px; }
        .card { background: #1e1e1e; padding: 15px; border-radius: 15px; text-align: center; border: 1px solid #333; display: flex; flex-direction: column; justify-content: space-between; }
        .card:hover { transform: translateY(-3px); border-color: var(--primary-color); }
        .btn { display: inline-block; background: linear-gradient(135deg, #4CAF50, #2E7D32); color: white; padding: 10px 20px; text-decoration: none; border-radius: 50px; margin: 5px; transition: 0.3s; border: none; cursor: pointer; font-size: 0.95em; font-family: 'Cairo', sans-serif; font-weight: bold; }
        .btn:hover { transform: translateY(-2px); }
        .btn-bronze { background: linear-gradient(135deg, #cd7f32, #8b4513); }
        .btn-rules { background: linear-gradient(135deg, #555, #333); border: 1px solid #444; }
        
        /* Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ±ÙØ± */
        .server-status { background: #1e1e1e; padding: 15px; border-radius: 15px; text-align: center; margin-bottom: 20px; border: 1px solid #333; }
        .ip-box { background: #2a2a2a; padding: 10px 20px; border-radius: 50px; display: inline-block; cursor: pointer; transition: 0.3s; border: 1px solid #444; font-weight: bold; font-size: 0.9em; }
        .ip-box:hover { background: var(--secondary-color); }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¶ÙˆØ¡ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø© */
        .status-text {
            font-weight: bold;
            transition: all 0.5s ease;
        }
        
        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¶ÙˆØ¡ Ø§Ù„Ø£Ø®Ø¶Ø± (Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†) - Ù…Ø±ÙŠØ­ Ù„Ù„Ø¹ÙŠÙ† */
        .status-online {
            color: var(--online-color);
            text-shadow: 0 0 8px rgba(0, 230, 118, 0.6);
            animation: glowGreen 2s ease-in-out infinite alternate;
        }
        @keyframes glowGreen {
            from { text-shadow: 0 0 5px rgba(0, 230, 118, 0.4); }
            to { text-shadow: 0 0 15px rgba(0, 230, 118, 0.8), 0 0 20px rgba(0, 230, 118, 0.4); }
        }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¶ÙˆØ¡ Ø§Ù„Ø£Ø­Ù…Ø± (Ø£ÙˆÙÙ„Ø§ÙŠÙ†) - Ù…Ø±ÙŠØ­ Ù„Ù„Ø¹ÙŠÙ† */
        .status-offline {
            color: var(--offline-color);
            text-shadow: 0 0 8px rgba(255, 82, 82, 0.6);
            animation: glowRed 2s ease-in-out infinite alternate;
        }
        @keyframes glowRed {
            from { text-shadow: 0 0 5px rgba(255, 82, 82, 0.4); }
            to { text-shadow: 0 0 15px rgba(255, 82, 82, 0.8), 0 0 20px rgba(255, 82, 82, 0.4); }
        }

        /* Ø§Ù„Ù†Ù‚Ø·Ø© Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø­Ø§Ù„Ø© */
        .status-dot { height: 12px; width: 12px; border-radius: 50%; display: inline-block; margin-left: 5px; }
        .dot-online { background-color: var(--online-color); box-shadow: 0 0 10px var(--online-color); animation: pulseDot 1.5s infinite; }
        .dot-offline { background-color: var(--offline-color); box-shadow: 0 0 10px var(--offline-color); animation: pulseDot 2s infinite; }
        
        @keyframes pulseDot {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 6px rgba(255, 255, 255, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }

        /* Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª */
        header { text-align: center; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 20px; margin-bottom: 20px; padding-top: 30px; }
        header h1 { color: #fff; margin: 10px 0 0 0; font-size: 2em; text-transform: uppercase; letter-spacing: 1px; text-shadow: 0 0 10px var(--primary-color); }
        .animated-gif { width: 200px; border-radius: 10px; box-shadow: 0 0 20px rgba(76, 175, 50, 0.4); margin-bottom: 10px; border: 2px solid rgba(255,255,255,0.1); }
        .rank-image { width: 100%; height: 120px; object-fit: contain; margin-bottom: 10px; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.5)); }
        .countdown-timer { margin-top: 8px; font-size: 0.85em; color: #bbb; background: rgba(0,0,0,0.3); padding: 6px; border-radius: 5px; }
        .countdown-timer span { color: #ff9800; font-weight: bold; }
        .item-image { width: 100%; height: 150px; object-fit: contain; background: #252525; border-radius: 8px; margin-bottom: 10px; padding: 10px; }

        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }

        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ù‡ÙˆØ§ØªÙ */
        @media (max-width: 600px) {
            .global-user-bar { justify-content: center; padding: 10px; position: relative; }
            .brand-logo { font-size: 1.3em; order: -1; width: 100%; text-align: center; margin-bottom: 5px; }
            .auth-actions { width: 100%; justify-content: center; }
            .landing-title { font-size: 2em; }
            .choice-card { min-height: 350px; padding: 15px; }
            .container { margin: 10px auto; padding: 15px; border-radius: 15px; }
            .back-btn { position: relative; top: 0; right: 0; margin-bottom: 15px; width: 100%; display: block; box-sizing: border-box; }
            header h1 { font-size: 1.6em; }
            .animated-gif { width: 150px; }
            .section h2 { font-size: 1.3em; }
            .modal-content { margin: 20px auto; padding: 20px 15px; width: 95%; }
        }
    </style>
</head>
<body>

<div class="bg-animation"></div>

<!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
<div class="global-user-bar">
    <div class="brand-logo">4AIKRO</div>
    <div id="auth-btn-container" class="auth-actions"></div>
</div>

<!-- 1. Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div id="landing-page">
    <img src="newlogosite.gif" alt="Logo" class="landing-logo">
    <h1 class="landing-title">Choose Your Game</h1>
    <p class="landing-subtitle">Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙŠ ÙŠÙˆÙØ±Ù‡Ø§ 4AIKRO</p>
    <div class="choices-container">
        <div class="choice-card card-roblox" onclick="showPage('roblox')">
            <img src="logoroblox.png" alt="Roblox">
            <h2>ROBLOX</h2>
            <p>Ø¹Ø§Ù„Ù… Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù„Ø§Ù…ØªÙ†Ø§Ù‡ÙŠ</p>
        </div>
        <div class="choice-card card-minecraft" onclick="showPage('minecraft')">
            <img src="logominecraft.png" alt="Minecraft">
            <h2>MINECRAFT</h2>
            <p>Ø³ÙŠØ±ÙØ±Ø§ØªÙ†Ø§ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù…Ø§ÙŠÙ†ÙƒØ±Ø§ÙØª Ø¬Ø§ÙØ§</p>
        </div>
    </div>
</div>

<!-- 2. Ø±ÙˆØ¨Ù„ÙˆÙƒØ³ -->
<div id="roblox-page">
    <div class="container">
        <button class="user-btn back-btn" onclick="goHome()">â¬… Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
        <header><h1>ROBLOX</h1><p>Ù‚Ø±ÙŠØ¨Ø§Ù‹</p></header>
    </div>
</div>

<!-- 3. Ù…Ø§ÙŠÙ†ÙƒØ±Ø§ÙØª -->
<div id="minecraft-page">
    <div class="container">
        <button class="user-btn back-btn" onclick="goHome()">â¬… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        <header>
            <img src="standard_1.gif" alt="GIF" class="animated-gif">
            <h1>âš”ï¸ SERVEUR 4AIKRO_S4 âš”ï¸</h1>
            <p>UPDATE: 1</p>
        </header>

        <div class="server-status">
            <h3>Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±: <span id="status-text" class="status-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span> <span class="status-dot" id="status-dot"></span></h3>
            <div class="ip-box" onclick="copyIP()"><strong>IP:</strong> <span id="server-ip">cities-declare.gl.joinmc.link</span> ğŸ“‹</div>
            <p id="copy-msg" style="display:none;">ØªÙ… Ø§Ù„Ù†Ø³Ø®!</p>
            <p>Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†: <span id="player-count">0</span> / <span id="max-players">0</span></p>
        </div>

        <div style="text-align:center; margin-bottom:20px;">
            <a href="https://discord.gg/gMrHAzvERJ" target="_blank" class="btn btn-discord" style="background:#5865F2;">Discord</a>
            <a href="https://www.mediafire.com/file/8cvfd3ql5sa2l0w/MODS+AIKRO+S4.rar/file" class="btn" target="_blank">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¯Ø§Øª</a>
            <button class="btn btn-rules" onclick="openRulesModal()">âš–ï¸ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†</button>
        </div>

        <div class="section">
            <h2>ğŸ’ Ø§Ù„Ø±ØªØ¨ ÙˆØ§Ù„Ù‡Ø¯Ø§ÙŠØ§</h2>
            <div class="card-grid">
                <div class="card">
                    <div>
                        <img src="gift.png" alt="Daily Gift" class="rank-image">
                        <h3>Ø§Ù„Ù‡Ø¯ÙŠØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h3>
                        <p>Ù‡Ø¯ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ© ÙƒÙ„ 24 Ø³Ø§Ø¹Ø©.</p>
                        <div class="balance-display" id="key-balance-box" style="display:none;">
                            <span>Ø±ØµÙŠØ¯Ùƒ:</span>
                            <span class="balance-count" id="key-balance-num">0</span>
                            <span>KEY</span>
                        </div>
                    </div>
                    <div>
                        <div id="key-display-area" style="display:none; margin-bottom:10px;">
                            <div class="countdown-timer">â³ <span id="timer-display">00:00:00</span></div>
                        </div>
                        <button id="claim-key-btn" class="btn btn-bronze" onclick="claimBronzeKey()">ğŸ”‘ Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…ÙØªØ§Ø­Ùƒ</button>
                    </div>
                </div>

                <div class="card">
                    <div>
                        <img src="https://static.wikia.nocookie.net/minecraft_gamepedia/images/4/4c/Gold_Armor.png" alt="VIP" class="rank-image">
                        <h3>Ø±ØªØ¨Ø© VIP</h3>
                        <p>Ù…Ø²Ø§ÙŠØ§ Ø¥Ø¶Ø§ÙÙŠØ©.</p>
                    </div>
                    <div class="price">$2.00</div>
                    <a href="#" class="btn">Ø´Ø±Ø§Ø¡</a>
                </div>

                <div class="card">
                    <div>
                        <img src="https://static.wikia.nocookie.net/minecraft_gamepedia/images/5/5d/Diamond_Armor.png" alt="MVP" class="rank-image">
                        <h3>Ø±ØªØ¨Ø© MVP</h3>
                        <p>ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø©.</p>
                    </div>
                    <div class="price">$5.00</div>
                    <a href="#" class="btn">Ø´Ø±Ø§Ø¡</a>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ›’ Ù…ØªØ¬Ø± Ø§Ù„Ø¢ÙŠØªÙ…Ø§Øª</h2>
            <div class="card-grid">
                <div class="card">
                    <img src="100coin.png" class="item-image">
                    <h3>100 COIN</h3>
                    <div class="price">$1.00</div>
                    <a href="#" class="btn">Ø´Ø±Ø§Ø¡</a>
                </div>
                 <div class="card">
                    <img src="Ø±Ø§Ø¨Ø·_2" class="item-image">
                    <h3>500 COIN</h3>
                    <div class="price">$3.00</div>
                    <a href="#" class="btn">Ø´Ø±Ø§Ø¡</a>
                </div>
                 <div class="card">
                    <img src="Ø±Ø§Ø¨Ø·_3" class="item-image">
                    <h3>1000 COIN</h3>
                    <div class="price">$5.00</div>
                    <a href="#" class="btn">Ø´Ø±Ø§Ø¡</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Ù†ÙˆØ§ÙØ°Ø© Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ -->
<div id="login-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('login-modal')">&times;</span>
        <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
        <input type="text" id="login-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
        <input type="password" id="login-code" placeholder="Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ">
        <button class="btn" onclick="handleLogin()" style="width:95%;">Ø¯Ø®ÙˆÙ„</button>
        <p id="login-error" style="color:#ff4444; font-size:0.8em; margin-top:10px; display:none;"></p>
    </div>
</div>

<div id="register-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('register-modal')">&times;</span>
        <h2>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
        <input type="text" id="reg-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
        <input type="password" id="reg-code" placeholder="Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ">
        <input type="email" id="reg-email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
        <p class="modal-hint">*Ø¥Ø°Ø§ Ø£Ø¯Ø®Ù„Øª Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ØŒ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ØºÙŠØ± Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ù‚Ø¨Ù„.</p>
        <button class="btn" onclick="handleRegister()" style="width:95%;">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
        <p id="register-error" style="color:#ff4444; font-size:0.8em; margin-top:10px; display:none;"></p>
    </div>
</div>

<div id="inventory-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('inventory-modal')">&times;</span>
        <h2>ğŸ“¦ Ù…Ø®Ø²ÙˆÙ†Ùƒ</h2>
        <div id="keys-list" style="max-height:250px; overflow-y:auto; margin-top:15px; text-align:left;"></div>
        <br>
        <button class="btn" style="background:#444" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
    </div>
</div>

<div id="rules-modal" class="modal">
    <div class="modal-content rules-modal-content">
        <span class="close-btn" onclick="closeModal('rules-modal')">&times;</span>
        <h2>âš–ï¸ Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø³ÙŠØ±ÙØ±</h2>
        <div class="rule-card"><h3>ğŸš« Ø§Ù„ØºØ´ ÙˆØ§Ù„Ù‡Ø§ÙƒØ§Øª</h3><p>ÙŠÙ…Ù†Ø¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙŠ Ø¨Ø±Ø§Ù…Ø¬ Ø®Ø§Ø±Ø¬ÙŠØ©.</p></div>
        <div class="rule-card"><h3>ğŸ—£ï¸ Ø§Ù„Ø§Ø­ØªØ±Ø§Ù…</h3><p>ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø³Ø¨ Ø£Ùˆ Ø§Ù„ØªØ­Ø±Ø´.</p></div>
        <div class="rule-card"><h3>ğŸ—ï¸ Ø§Ù„Ø¨Ù†Ø§Ø¡</h3><p>ÙŠÙ…Ù†Ø¹ Ø§Ù„ØªØ®Ø±ÙŠØ¨.</p></div>
        <div class="rule-card"><h3>ğŸ“¢ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©</h3><p>ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª.</p></div>
    </div>
</div>

<script>
    document.body.onload = function() { updateAuthUI(); };

    function getDB() { return JSON.parse(localStorage.getItem('4aikro_db')) || {}; }
    function saveDB(db) { localStorage.setItem('4aikro_db', JSON.stringify(db)); }
    function getCurrentUser() { return localStorage.getItem('4aikro_session'); }
    function setCurrentUser(username) { localStorage.setItem('4aikro_session', username); }

    function updateAuthUI() {
        const container = document.getElementById('auth-btn-container');
        const username = getCurrentUser();
        
        if (username) {
            const db = getDB();
            const userObj = db[username] || { mc_keys: [] };
            const keyCount = userObj.mc_keys ? userObj.mc_keys.length : 0;

            container.innerHTML = `
                <div class="user-btn profile-btn" onclick="openInventoryModal()">
                    ğŸ‘¤ ${username}
                    <span class="key-badge">ğŸ—ï¸ ${keyCount}</span>
                </div>
            `;

            const balanceNum = document.getElementById('key-balance-num');
            const balanceBox = document.getElementById('key-balance-box');
            if(balanceNum) balanceNum.innerText = keyCount;
            if(balanceBox) balanceBox.style.display = 'flex';

        } else {
            container.innerHTML = `
                <button class="user-btn" onclick="openModal('login-modal')">ğŸ”‘ Ø¯Ø®ÙˆÙ„</button>
                <button class="user-btn" onclick="openModal('register-modal')" style="border-color:#cd7f32;">ğŸ“ Ø¬Ø¯ÙŠØ¯</button>
            `;
            const balanceBox = document.getElementById('key-balance-box');
            if(balanceBox) balanceBox.style.display = 'none';
        }
    }

    function openModal(id) { document.getElementById(id).style.display = 'block'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }

    function handleLogin() {
        const name = document.getElementById('login-name').value.trim();
        const code = document.getElementById('login-code').value.trim();
        const err = document.getElementById('login-error');
        if (!name || !code) { err.innerText = "Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ÙƒÙˆØ¯"; err.style.display='block'; return; }

        let db = getDB();
        if (db[name] && db[name].code === code) {
            setCurrentUser(name);
            closeModal('login-modal');
            updateAuthUI();
            initKeyLogic();
            alert("Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒØŒ " + name);
        } else {
            err.innerText = "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„ÙƒÙˆØ¯";
            err.style.display='block';
        }
    }

    function handleRegister() {
        const name = document.getElementById('reg-name').value.trim();
        const code = document.getElementById('reg-code').value.trim();
        const email = document.getElementById('reg-email').value.trim();
        const err = document.getElementById('register-error');

        if (!name || !code) { err.innerText = "Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ÙƒÙˆØ¯ Ù…Ø·Ù„ÙˆØ¨Ø§Ù†"; err.style.display='block'; return; }

        let db = getDB();
        if (db[name]) { err.innerText = "Ø§Ù„Ø§Ø³Ù… Ù…ÙˆØ¬ÙˆØ¯!"; err.style.display='block'; return; }

        let count = parseInt(localStorage.getItem('4aikro_reg_count') || '0');
        if (count >= 3) { err.innerText = "Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø­Ø³Ø§Ø¨Ø§Øª!"; err.style.display='block'; return; }

        if (email) {
            for (let user in db) {
                if (db[user].email === email) { err.innerText = "Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù…!"; err.style.display='block'; return; }
            }
        }

        db[name] = { code: code, email: email, mc_keys: [] };
        saveDB(db);
        localStorage.setItem('4aikro_reg_count', count + 1);

        setCurrentUser(name);
        closeModal('register-modal');
        updateAuthUI();
        initKeyLogic();
        alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨!");
    }

    function logout() {
        localStorage.removeItem('4aikro_session');
        closeModal('inventory-modal');
        updateAuthUI();
        initKeyLogic();
    }

    function openInventoryModal() {
        const username = getCurrentUser();
        const db = getDB();
        const keys = db[username]?.mc_keys || [];
        const listContainer = document.getElementById('keys-list');
        if (keys.length === 0) {
            listContainer.innerHTML = '<p style="text-align:center; color:#555; padding:20px;">Ù„Ø§ ØªÙ…Ù„Ùƒ Ù…ÙØ§ØªÙŠØ­</p>';
        } else {
            listContainer.innerHTML = keys.map(k => `
                <div style="background:#222; padding:10px; margin:5px 0; border-radius:5px; border:1px solid #333; display:flex; justify-content:space-between; font-size:0.9em;">
                    <span style="color:#cd7f32; font-family:monospace;">${k.code}</span>
                    <small style="color:#666;">${k.date}</small>
                </div>
            `).join('');
        }
        openModal('inventory-modal');
    }

    function openRulesModal() { openModal('rules-modal'); }

    function showPage(pageName) {
        document.getElementById('landing-page').style.display = 'none';
        document.getElementById('minecraft-page').style.display = 'none';
        document.getElementById('roblox-page').style.display = 'none';

        if (pageName === 'minecraft') {
            document.getElementById('minecraft-page').style.display = 'block';
            checkServerStatus();
            initKeyLogic();
            updateAuthUI();
        } else if (pageName === 'roblox') {
            document.getElementById('roblox-page').style.display = 'block';
        }
    }
    function goHome() {
        document.getElementById('landing-page').style.display = 'flex';
        document.getElementById('minecraft-page').style.display = 'none';
        document.getElementById('roblox-page').style.display = 'none';
    }

    const COOLDOWN_TIME = 24 * 60 * 60 * 1000; 
    let timerInterval;

    function initKeyLogic() {
        const username = getCurrentUser();
        const claimBtn = document.getElementById('claim-key-btn');
        const displayArea = document.getElementById('key-display-area');
        
        if(!claimBtn) return;

        if (!username) {
            claimBtn.disabled = false;
            claimBtn.innerText = "ğŸ”‘ Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ";
            claimBtn.onclick = () => openModal('login-modal');
            displayArea.style.display = 'none';
            return;
        }
        
        let db = getDB();
        if(!db[username]) db[username] = { mc_keys: [] };

        const lastClaim = localStorage.getItem(`mc_keyTime_${username}`);
        
        if (lastClaim) {
            const nextClaimTime = parseInt(lastClaim) + COOLDOWN_TIME;
            const now = new Date().getTime();
            
            if (now < nextClaimTime) {
                claimBtn.disabled = true;
                claimBtn.innerText = "â³ Ø§Ù†ØªØ¸Ø±";
                displayArea.style.display = 'block';
                startCountdown(nextClaimTime);
            } else {
                setupClaimable();
            }
        } else {
            setupClaimable();
        }
    }

    function setupClaimable() {
        const claimBtn = document.getElementById('claim-key-btn');
        if(!claimBtn) return;
        claimBtn.disabled = false;
        claimBtn.innerText = "ğŸ”‘ Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…ÙØªØ§Ø­Ùƒ";
        claimBtn.onclick = claimBronzeKey;
        document.getElementById('key-display-area').style.display = 'none';
    }

    function claimBronzeKey() {
        const username = getCurrentUser();
        if(!username) return;
        const randomKey = "BRONZE-KEY-" + Math.random().toString(36).substring(2, 8).toUpperCase();
        let db = getDB();
        if (!db[username].mc_keys) db[username].mc_keys = [];
        db[username].mc_keys.push({ code: randomKey, date: new Date().toLocaleDateString('en-GB') });
        saveDB(db);
        const now = new Date().getTime();
        localStorage.setItem(`mc_keyTime_${username}`, now);
        alert(`ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ø­ØµÙ„Øª Ø¹Ù„Ù‰: ${randomKey}`);
        updateAuthUI(); 
        initKeyLogic(); 
    }

    function startCountdown(endTime) {
        clearInterval(timerInterval);
        const timerDisplay = document.getElementById('timer-display');
        function updateTimer() {
            const now = new Date().getTime();
            const distance = endTime - now;
            if (distance < 0) {
                clearInterval(timerInterval);
                setupClaimable();
            } else {
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                if(timerDisplay) timerDisplay.innerHTML = `${hours}Ø³ ${minutes}Ø¯ ${seconds}Ø«`;
            }
        }
        updateTimer();
        timerInterval = setInterval(updateTimer, 1000);
    }

    function copyIP() {
        navigator.clipboard.writeText(document.getElementById("server-ip").innerText);
        const msg = document.getElementById("copy-msg");
        msg.style.display = "block";
        setTimeout(() => msg.style.display = "none", 2000);
    }

    function checkServerStatus() {
        fetch(`https://api.mcsrvstat.us/2/cities-declare.gl.joinmc.link`)
            .then(response => response.json())
            .then(data => {
                const statusText = document.getElementById("status-text");
                const statusDot = document.getElementById("status-dot");
                const playerCount = document.getElementById("player-count");
                const maxPlayers = document.getElementById("max-players");

                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙƒÙ„Ø§Ø³Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
                statusText.classList.remove("status-online", "status-offline");
                statusDot.classList.remove("dot-online", "dot-offline");

                if (data.online) {
                    statusText.innerText = "Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†";
                    statusText.classList.add("status-online");
                    statusDot.classList.add("dot-online");
                    playerCount.innerText = data.players.online;
                    maxPlayers.innerText = data.players.max;
                } else {
                    statusText.innerText = "Ø£ÙˆÙÙ„Ø§ÙŠÙ†";
                    statusText.classList.add("status-offline");
                    statusDot.classList.add("dot-offline");
                }
            });
    }
</script>
</body>
</html>


